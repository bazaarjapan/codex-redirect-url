# Repository Guidelines

## プロジェクト構成とモジュール配置
このウェブアプリは最小構成で、`index.html` がボタン類の UI とイベントの土台を担い、`script.js` がリダイレクト URL 生成とクリップボード補助を実装します。今後の JavaScript モジュールは `script.js` 近辺に置き、明示的に読み込んでグローバル汚染を避けてください。画像やスタイルなどの静的アセットは `assets/` ディレクトリを新設し、リポジトリ直下を清潔に保ちましょう。

## ビルド・テスト・開発コマンド
- `npx serve@latest .` — ローカル静的サーバーを立ち上げ、手動 QA 用に http://localhost:3000 を提供します。
- `npm run lint` — ESLint などお好みのリンターを実行するスクリプトとして設定し、マージ前にスタイルと安全性を確認します。
- `npm test` — 将来追加するブラウザ/ユニットテストの実行口として予約しておきます。

## コーディングスタイルと命名規則
HTML/CSS/JavaScript では 2 スペースインデントを維持してください。文字列結合はテンプレートリテラルを既定とし、変数は `const` と `let` を優先します。DOM 要素 ID や関数名は役割が分かるもの（例: `urlInput`, `code1`）を保ちましょう。リンター導入時は `eslint:recommended` と DOM グローバル向けプラグインを組み合わせ、`clipboard` や `alert` の使用を検証します。

## テストガイドライン
自動テストは未整備のため、`tests/` 配下に Playwright のスモークテストを追加し、入力→コピーのフローを検証してください。テストファイル名は DOM ID に合わせた `*.spec.js` 形式が推奨です。手動確認では `curl -sL "$CODEX_REDIRECT_URL" > /dev/null` がエラーなく終わることと、コピー操作が Chromium と Firefox で成功することを確かめます。

## コミットとプルリクエストの指針
コミットメッセージは `feat: add fallback validation` のような命令形の Conventional Commits を推奨します。UI とスクリプトの関連変更は一つのコミットにまとめ、履歴を読みやすく保ってください。プルリクエストではユーザー影響、テスト結果、関連チケットを記述し、UI 更新時はスクリーンショットや GIF を添付します。マージ前には他のエージェントのレビューを依頼してください。

## セキュリティと構成のヒント
`CODEX_REDIRECT_URL` は信頼できない入力として扱い、保存や再利用の前に URL バリデーションを行いましょう。`index.html` にシークレットを直書きせず、デプロイ時はビルド環境から環境変数を注入します。外部スクリプトを利用する場合はバージョンを固定し、このガイドに記録しておくと追跡が容易です。
